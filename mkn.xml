<!--

./mkn.xml

Created on: 21 Jan 2013

Copyright (c) 2013, Philip Deegan

This file is part of kul (The Kommon Usage Library).

This library is free software; you can redistribute it and/or
modify it under the terms of the GNU Lesser General Public
License as published by the Free Software Foundation; either
version 2.1 of the License, or (at your option) any later version.

This library is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
Lesser General Public License for more details.

You should have received a copy of the GNU Lesser General Public License
along with this library.  If not, see <http://www.gnu.org/licenses/>.
-->
<?xml version="1.0" encoding="UTF-8" ?>
<maiken>
	<project>
		<name>kul</name>		
		<version>master</version>
	</project>
	<scm scm="git">
		<scr>http://www.github.com/Dekken/kul.git</scr>
	</scm>
	<profiles>
		<profile name="c">
			<includes>
				<include>./inc</include>
				<include>./tst</include>
			</includes>
			<sources>
				<source>./src</source>
			</sources>
		</profile>
		<profile name="nixc" parent="c">
			<includes>
				<include>./os/nixish/inc</include>
				<include>./ext/sparsehash/trunk/include</include>
			</includes>
			<sources>
				<source>./os/nixish/src</source>
			</sources>
			<dependencies>
				<dependency>
					<name>pugixml</name>
					<version>master</version>
					<profile>nix</profile>
					<local>./ext/pugixml</local>
				</dependency>
			</dependencies>	
			<build type="lib" mode="static" lang="cpp"> 
				<files>
					<file type="cpp">
						<args>
							<arg>-std=c++1y</arg>
							<arg>-Wall</arg>
							<arg>-fmessage-length=0</arg>
						</args>
					</file>
				</files>
			</build>
		</profile>
		<profile name="nix" parent="nixc" os="nix">
			<sources>
				<source>./os/nix/src</source>
			</sources>
			<build type="lib" mode="static" lang="cpp"/> 
		</profile>
		<profile name="bsd" parent="nixc" os="bsd">
			<sources>
				<source>./os/bsd/src</source>
			</sources>
			<build type="lib" mode="static" lang="cpp"/> 
		</profile>
		<profile name="win" parent="c" os="win">
			<includes>
				<include>./ext/sparsehash/trunk/src</include>
				<include>./ext/sparsehash/trunk/src/windows</include>
				<include>./ext/msinttypes-r26</include>
				<include>./os/win/inc</include>
			</includes>
			<sources>
				<source>./os/win/src</source>
			</sources>
			<dependencies>
				<dependency>
					<name>pugixml</name>
					<version>master</version>
					<profile>win</profile>
					<local>./ext/pugixml</local>
				</dependency>
			</dependencies>	
			<build type="lib" mode="static" lang="cpp">
				<files>
					<file type="cpp">
						<args>
							<arg>/EHsc</arg>
						</args>
					</file>
				</files>
			</build>
		</profile>
	</profiles>
</maiken>
